<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grafana Dashboard Viewer</title>
</head>
<body>
  <h1>Grafana Dashboard Viewer</h1>
  <div id="dashboard"></div>

  <script>
    // Bearer token
    const bearerToken = 'glsa_XpEyqgtlPVuQcfsidOMIYNerHw3kxwvQ_73b187af';

    // Make a GET request to the Grafana API endpoint
    fetch('https://grafana.wivalolighting.com/api/dashboards/uid/5_omrT7Zz', {
      headers: {
        'Authorization': `Bearer ${bearerToken}`
      }
    })
      .then(response => {
        // Check if the response is successful
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        // Parse the JSON response
        return response.json();
      })
      .then(data => {
        // Extract the URL of the dashboard
        const dashboardUrl = data.dashboard.url;
        // Redirect to the dashboard URL
        window.location.href = dashboardUrl;
      })
      .catch(error => {
        // Handle any errors
        console.error('There was a problem with the fetch operation:', error);
        // Display an error message
        document.getElementById('dashboard').innerHTML = 'Error fetching dashboard: ' + error.message;
      });
  </script>
</body>
</html>
