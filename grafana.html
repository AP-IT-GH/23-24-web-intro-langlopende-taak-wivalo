<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard Data</title>
</head>
<body>
<h1>Dashboard Data from Grafana</h1>
<div id="dashboardData">Loading dashboard data...</div>

<script>
async function fetchDashboardData() {
    const url = 'https://corsproxy.io/?https://grafana.wivalolighting.com/api/dashboards/uid/5_omrT7Zz';  // Adjust the UID to your actual dashboard's UID
    const options = {
        method: 'GET',
        headers: {
            'Authorization': 'Bearer glsa_o9j1zXkluGOT6PZBAQraGORmv3s5cHlK_485914b7',
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        }
    };

    try {
        const response = await fetch(url, options);
        if (!response.ok) throw new Error('Network response was not ok: ' + response.status);
        const data = await response.json();
        document.getElementById('dashboardData').textContent = JSON.stringify(data, null, 2);
    } catch (error) {
        console.error('Failed to fetch dashboard data:', error);
        document.getElementById('dashboardData').textContent = 'Failed to load dashboard data.';
    }
}

// Call the function when the window loads
window.onload = fetchDashboardData;
</script>
</body>
</html>
